<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Shakeel Mohamed | An actually helpful git diff of your uncommitted changes</title>
        <meta charset="utf-8"/>
        <meta http-equiv="X-UA-Compatible" content="chrome=1"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no"/>
        <meta property="og:title" content="Shakeel Mohamed | An actually helpful git diff of your uncommitted changes"/>
        <meta property="og:image" content="https://shakeelmohamed.com/img/shakeel-mohamed-opengraph.png"/>
        <meta property="og:description" content="So you just made a bunch of changes to a git project, good job. Now you want to review your changes before committing, even better."/>
        <meta property="twitter:card" content="So you just made a bunch of changes to a git project, good job. Now you want to review your changes before committing, even better."/>
        <meta property="twitter:creator" content="@_Shakeel"/>
        <link href="https://unpkg.com/basscss@8.0.1/css/basscss.min.css" rel="stylesheet"/>
        <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600&amp;display=swap" rel="stylesheet" type="text/css"/>
        <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"/>
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"/>
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"/>
        <link rel="manifest" href="/site.webmanifest"/>
        <link href="../../styles.css" rel="stylesheet"/>
        <link href="../../feed.xml" rel="alternate" type="application/rss+xml" title="RSS Feed for ShakeelMohamed.com"/> 
        <!--[if lt IE 9]>
        <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
        <!--This website's source code is available at https://github.com/shakeelmohamed/shakeelmohamed.github.io -->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.0.3/styles/default.min.css">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.0.3/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script>
    </head>
    <body>
        <header class="flex center">
            <div class="mx-auto">
                <ul class="nav-links no-indent">
                    <li class="inline pr1 no-bullet"><a href="../.." title="Home">Home</a></li>
                    <li class="inline pr1 no-bullet"><a href="https://ntrsct.com/" title="ntrsct designs">ntrsct designs</a></li>
                    <li class="inline pr1 no-bullet"><a href="../../index.html#projects" title="Projects">Projects</a></li>
                    <li class="inline pr1 no-bullet"><a href="../../posts" title="Blog Posts">Blog Posts</a></li>
                    <li class="inline pr1 no-bullet"><a href="../../index.html#mentions" title="Mentions">Mentions</a></li>
                </ul>
                <div class="nav center">
                    <h1 class="inline h1 pr2">Shakeel Mohamed</h1>
                </div>
            </div>
        </header>
        <section class="flex center">
            <div class="flex-col mx-auto">
                <h4>April 21, 2015</h4>
                <div class="post-content"><h1 id="anactuallyhelpfulgitdiffofyouruncommittedchanges">An actually helpful git diff of your uncommitted changes</h1>
<p>TL;DR</p>
<pre><code class="hljs bash language-bash">git diff -w --patience
</code></pre>
<p>So you just made a bunch of changes to a git project, good job. Now you want to review your changes before committing, even better. (I like where you're going with this, please continue.) Then you do what you usually do: <code>git diff</code> but this time, the entire file shows up as different.</p>
<p>Why does the diff say the entire file changed? A couple reasons could be:</p>
<ol>
<li>Whitespace changes (tabs vs. spaces, indentation, etc.)</li>
<li>File contents got moved in a strange way (rearranging blocks of code, etc.)</li>
</ol>
<p>So, I think that's sufficient justification for the <code>-w</code>flag which ignores whitespace.</p>
<p>Okay great, so now the diff is slightly less weird. But my extremely modified file(s) still has a messy diff… We can do better! Just be patient.</p>
<p>But, what the hell is that <code>--patience</code> flag? Long story short, patience is a different diff-ing algorithm (read more about it on <a href="http://stackoverflow.com/questions/4045017/what-is-git-diff-patience-for">StackOverflow</a>). Using the patience algorithm when computing a diff can be helpful if the file has changed drastically, but in an unusual way. I've seen this come up when:</p>
<ol>
<li>Merging very divergent branches</li>
<li>Immediately after a massive refactor</li>
<li>Changing variable and/or function names in a strange way - usually due to divergent branches</li>
</ol>
<p>Now that that's out of the way, review your changes and…</p>
<pre><code class="hljs bash language-bash">git commit -m <span class="hljs-string">&quot;Use git diff -w --patience if you&#x27;re diffing this&quot;</span>
</code></pre></div>
            </div>
        </section>
        <script type="application/ld+json">
            {
                "@context": "http://schema.org",
                "@type": "WebSite",
                "url": "https://shakeelmohamed.com/",
                "image": "https://shakeelmohamed.com/img/headshot.jpg",
                "name": "ShakeelMohamed.com",
                "author": {
                    "@type": "Person",
                    "name": "Shakeel Mohamed",
                    "email": "iam@shakeel.xyz",
                    "jobTitle": "Brand strategist and designer"
                },
                "contentLocation": {
                    "@type": "City",
                    "name": "Seattle"
                }
            }
        </script>
        <script>
            if (window.location.protocol === "http:") {
                window.location.protocol = "https:";
            }
            
        </script>
        <script async src="https://www.googletagmanager.com/gtag/js?id=UA-36907845-2"></script>
        <script>
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
            gtag('config', 'UA-36907845-2');
        </script>
    </body>
</html>