include ./atoms.pug

mixin gridCols2()
    div(class="grid grid-cols-1 lg:grid-cols-2 gap-16")
        block

//- TODO: remix so blog listing can reuse part of this
mixin projectListing(project)
    div.pb-8
        a(href=project.url)
            img.portfolio-cover.w-full(src=project.data.openGraphImage)
        
            div.pt-2
                div(class="text-navy pb-0.5 text-2xl font-sans font-semibold")
                    h2
                        a(href=project.url) #{project.data.title}
                //- TODO: need a max-width here so the lines aren't super long
                div.project-meta
                    if project.data.media
                        p
                            span.font-semibold Media:&nbsp;
                            | #{project.data.mediaString}
                    p #{project.data.tagline}.

//- mixin projectListing(project)
//-     div.justify-self-auto.pb-8
//-         a(href=project.url)
//-             img.portfolio-cover(src=project.data.openGraphImage)
//-         h3(class="text-navy pb-0.5")
//-             a(href=project.url) #{project.data.title}
//-         p.text-navy.leading-tight #{project.data.description}

//- TODO: this has been refactored away, delete once footer is final
mixin copyright()
    .mx-auto.text-center
        //- TODO: link this next paragraph to the project/blog page about the website itself
        p.caption.text-white Designed and developed with ✨emotion✨.
        p.caption.text-white
            script document.write("&copy; " + new Date().getFullYear() + " Shakeel Mohamed")
    

//- mixin projectSectionText()

//- mixin projectSectionTextBig()
    
//- mixin projectSectionSplit()
    
//- mixin projectSectionFullWidth()
//- images or videos most likely

//- TODO: for each of these, have a min col width so 2nd column is flush nicely

//- TODO: design this component
mixin getPosts(recent=false)
    - var source = collections.recentPosts;
    if !recent
        - source = collections.post;
    each post in source
        //- .flex.place-content-start.align-baseline
        .flex.items-baseline
            p #{post.data.cleanDate} &nbsp;
            div
                h3(class="hover:text-orange")
                    a(href=post.url) #{post.data.title}
                //- TODO: make tags clickable
                p Topics: #{post.data.categories}

mixin getFeaturedPosts()
    each post in collections.featured
        a(href=post.url)
            h3(class="hover:text-orange") #{post.data.title}
        p #{post.data.description}

mixin getMentions(recent=false)
    - var source = mentions.recent;
    if !recent
        - source = mentions.all;
    each mention in source
        .flex.items-baseline
            p #{mention.date} – &nbsp;
            p(class="text-navy hover:text-orange")
                a(href=mention.url) #{mention.title}